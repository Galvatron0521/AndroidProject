<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<!-- 	base -->
	<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="js/echarts-2.2.7/build/dist/echarts-all.js" ></script>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="js/bootstrap-3.3.7-dist/css/bootstrap.min.css">
	<script src="js/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
	<style>
		body,html{
			width: 99%;
			height: 99%;
			font-family: "微软雅黑";
			font-size: 20px;
		}
		#pie{
			width: 20%;
			height: 20%;
		}
	</style>
	<script>
		$(document).ready(function(){
			randomData();
		});

		//产生随机数
		function randomData()
		{
			var first = (Math.random()*1000+1000).toFixed(2);
			var second = (Math.random()*1000+1000).toFixed(2);
			var third = (Math.random()*1000+1000).toFixed(2);
			var fourth = (Math.random()*1000+1000).toFixed(2);
			var chartId = Math.floor(Math.random()*1000+10000);
			var pieName = ['第一季度','第二季度','第三季度','第四季度'];
			var pieValue = new Array();
			pieValue.push(first);
			pieValue.push(second);
			pieValue.push(third);
			pieValue.push(fourth);
			$("#bodyDiv").empty().append("<div id='pie"+chartId+"' style='width:100%;height:100%;'></div>");

			buildChart(pieName,pieValue,chartId);
		}

		//生成圆环图
		function buildChart(pieName,pieValue,chartId)
		{
			var pieData = new Array();
			for(var i=0;i<pieName.length;i++)
			{
				pieData.push(eval('(' + ("{'value':"+pieValue[i]+",'name':'"+pieName[i]+"'}") + ')'));
			}
			var pieChart = document.getElementById("pie"+chartId);
			var echart = echarts.init(pieChart);
			var option = {
				title : {
					text: '全国患者分布图',
					subtext: '',
					x:'center'
				},
				tooltip : {
					trigger: 'item'
				},
				legend: {
					orient: 'vertical',
					x:'left',
					data:[]
				},
				dataRange: {
					min: 0,
					max: 2500,
					x: 'left',
					y: 'bottom',
					text:['高','低'],           // 文本，默认为数值文本
					calculable : true
				},
				toolbox: {
				//菜单栏
					show: false,
					orient : 'vertical',
					x: 'right',
					y: 'center',
					feature : {
						mark : {show: true},
						dataView : {show: true, readOnly: false},
						restore : {show: true},
						saveAsImage : {show: true}
					}
				},
				roamController: {
					show: true,
					x: 'right',
					y: 'bottom',
					mapTypeControl: {
						'china': true
					}
				},
				series : [
					{
						name: '',
						type: 'map',
						mapType: 'china',
						roam: false,
						itemStyle:{
							normal:{label:{show:true}},
							emphasis:{label:{show:true}}
						},
						data:[
							{name: '北京',value: Math.round(Math.random()*1000)},
							{name: '天津',value: Math.round(Math.random()*1000)},
							{name: '上海',value: Math.round(Math.random()*1000)},
							{name: '重庆',value: Math.round(Math.random()*1000)},
							{name: '河北',value: Math.round(Math.random()*1000)},
							{name: '河南',value: Math.round(Math.random()*1000)},
							{name: '云南',value: Math.round(Math.random()*1000)},
							{name: '辽宁',value: Math.round(Math.random()*1000)},
							{name: '黑龙江',value: Math.round(Math.random()*1000)},
							{name: '湖南',value: Math.round(Math.random()*1000)},
							{name: '安徽',value: Math.round(Math.random()*1000)},
							{name: '山东',value: Math.round(Math.random()*1000)},
							{name: '新疆',value: Math.round(Math.random()*1000)},
							{name: '江苏',value: Math.round(Math.random()*1000)},
							{name: '浙江',value: Math.round(Math.random()*1000)},
							{name: '江西',value: Math.round(Math.random()*1000)},
							{name: '湖北',value: Math.round(Math.random()*1000)},
							{name: '广西',value: Math.round(Math.random()*1000)},
							{name: '甘肃',value: Math.round(Math.random()*1000)},
							{name: '山西',value: Math.round(Math.random()*1000)},
							{name: '内蒙古',value: Math.round(Math.random()*1000)},
							{name: '陕西',value: Math.round(Math.random()*1000)},
							{name: '吉林',value: Math.round(Math.random()*1000)},
							{name: '福建',value: Math.round(Math.random()*1000)},
							{name: '贵州',value: Math.round(Math.random()*1000)},
							{name: '广东',value: Math.round(Math.random()*1000)},
							{name: '青海',value: Math.round(Math.random()*1000)},
							{name: '西藏',value: Math.round(Math.random()*1000)},
							{name: '四川',value: Math.round(Math.random()*1000)},
							{name: '宁夏',value: Math.round(Math.random()*1000)},
							{name: '海南',value: Math.round(Math.random()*1000)},
							{name: '台湾',value: Math.round(Math.random()*1000)},
							{name: '香港',value: Math.round(Math.random()*1000)},
							{name: '澳门',value: Math.round(Math.random()*1000)}
						]
					},
					{
						name: '',
						type: 'map',
						mapType: 'china',
						itemStyle:{
							normal:{label:{show:true}},
							emphasis:{label:{show:true}}
						},
						data:[
							{name: '北京',value: Math.round(Math.random()*1000)},
							{name: '天津',value: Math.round(Math.random()*1000)},
							{name: '上海',value: Math.round(Math.random()*1000)},
							{name: '重庆',value: Math.round(Math.random()*1000)},
							{name: '河北',value: Math.round(Math.random()*1000)},
							{name: '安徽',value: Math.round(Math.random()*1000)},
							{name: '新疆',value: Math.round(Math.random()*1000)},
							{name: '浙江',value: Math.round(Math.random()*1000)},
							{name: '江西',value: Math.round(Math.random()*1000)},
							{name: '山西',value: Math.round(Math.random()*1000)},
							{name: '内蒙古',value: Math.round(Math.random()*1000)},
							{name: '吉林',value: Math.round(Math.random()*1000)},
							{name: '福建',value: Math.round(Math.random()*1000)},
							{name: '广东',value: Math.round(Math.random()*1000)},
							{name: '西藏',value: Math.round(Math.random()*1000)},
							{name: '四川',value: Math.round(Math.random()*1000)},
							{name: '宁夏',value: Math.round(Math.random()*1000)},
							{name: '香港',value: Math.round(Math.random()*1000)},
							{name: '澳门',value: Math.round(Math.random()*1000)}
						]
					},
					{
						name: '',
						type: 'map',
						mapType: 'china',
						itemStyle:{
							normal:{label:{show:true}},
							emphasis:{label:{show:true}}
						},
						data:[
							{name: '北京',value: Math.round(Math.random()*1000)},
							{name: '天津',value: Math.round(Math.random()*1000)},
							{name: '上海',value: Math.round(Math.random()*1000)},
							{name: '广东',value: Math.round(Math.random()*1000)},
							{name: '台湾',value: Math.round(Math.random()*1000)},
							{name: '香港',value: Math.round(Math.random()*1000)},
							{name: '澳门',value: Math.round(Math.random()*1000)}
						]
					}
				]
			};

			echart.setOption(option);
		}
	</script>
</head>
<body id="bodyDiv">

</body>
</html>